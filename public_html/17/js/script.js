function calcAge(e,t,a){var r=0,n=1e4*e+100*t+a,s=new Date,l=(s.getFullYear(),s.getMonth()),g=s.getDate(),i=1e4*s.getFullYear()+100*(s.getMonth()+1)+s.getDate(),u=Math.floor((i-n)/1e4);l<t&&(l+=12),l==t&&g<a&&(l+=12),g>=a&&(l+=1);var h=l-t;return u>baseAge&&(r=12*(u-baseAge)),r+h}var baseAge=17,trueFlg,falseFlg;$(function(){function e(e){return!e.hasClass("err")&&""!=e.val()}var t=$('input[name="birthYear"]'),a=$('input[name="birthMonth"]'),r=$('input[name="birthDay"]'),n=$('button[name="displayResult"]');$(".inputNumber").on("focusout",function(){var e=$(this).val(),t=parseInt($(this).attr("minlength"),10),a=parseInt($(this).attr("maxlength"),10);""==e||e.length<t||e.length>a?($(this).addClass("err"),$(".errMsg").text("ERROR!")):($(this).removeClass("err"),$(".errMsg").text(""))}),n.on("click",function(){if(e(t)&&e(a)&&e(r)){var n=parseInt(t.val(),10),s=parseInt(a.val(),10),l=parseInt(r.val(),10);$(".errMsg").text(""),$(".resultTxt").text(baseAge+"歳"+calcAge(n,s,l)+"ヶ月")}else $(".errMsg").text("ERROR!")})});